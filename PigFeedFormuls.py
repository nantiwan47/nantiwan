import pandas as pd
import streamlit as st
import matplotlib.pyplot as plt
from sklearn.linear_model import LinearRegression
import joblib
import matplotlib

st.markdown(
    f"""
       <style>
       .stApp {{
           background-image: url("https://img.pikbest.com/backgrounds/20191101/soft-watercolor-pink-background-v_1584029jpg!bw700");
           background-attachment: fixed;
           background-size: cover;
           /* opacity: 1.5; */
       }}
       </style>
       """,
    unsafe_allow_html=True
)

st.markdown('# Predicting food recipes for raising üê∑:red[pig]üê∑ farming')
st.subheader('‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏∏‡∏Å‡∏£‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å')
st.markdown("""
    ‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏∏‡∏Å‡∏£ ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏±‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏°‡∏µ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏û‡∏á 
    ‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏µ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏¢‡πå‡∏Å‡∏±‡∏ö‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Ñ‡πà‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô
    """)

col1, col2 = st.columns((1.8, 2.1))
col2.markdown("""
    ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏ú‡∏π‡πâ‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏¥‡πà‡∏á ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏•‡∏î‡∏Ñ‡πà‡∏≤
    ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå ‡πÅ‡∏•‡∏∞‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≠‡∏á‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÉ‡∏´‡πâ‡∏ï‡πà‡∏≥‡∏•‡∏á
    ‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡πÇ‡∏†‡∏ä‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏î‡∏¥‡∏°
""")

col1.image('https://i.natgeofe.com/k/0ed36c42-672a-425b-9e62-7cc946b98051/pig-fence_square.jpg', width=315)
col1.caption('‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏π[‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û](https://kids.nationalgeographic.com/animals/mammals/facts/pig)')
col2.markdown("""
    **‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏µ‡∏Å‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏ú‡∏π‡πâ‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏∏‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡∏•‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Ñ‡πà‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£**

    * ‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô:orange[‡∏™‡∏π‡∏ï‡∏£‡∏û‡∏£‡∏µ‡∏°‡∏¥‡∏Å‡∏ã‡πå] ‡∏´‡∏£‡∏∑‡∏≠:orange[‡∏™‡∏π‡∏ï‡∏£‡∏´‡∏±‡∏ß‡∏≠‡∏≤‡∏´‡∏≤‡∏£]
    * ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏á‡πà‡∏≤‡∏¢ :orange[‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å]
    * ‡πÇ‡∏î‡∏¢‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ö‡πà‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏∏‡∏Å‡∏£‡∏Å‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏Ñ‡∏∑‡∏≠ :orange[‡πÄ‡∏ä‡πâ‡∏≤]‡πÅ‡∏•‡∏∞:orange[‡πÄ‡∏¢‡πá‡∏ô] 
    * ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏î‡πâ[‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ](https://researchex.mju.ac.th/agikl/index.php/knowledge/36-pig-hold/113-pighold15)

    """)
st.markdown('**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô**')
st.markdown("""
    ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ
    * ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **:orange[Generated]** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    * ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **:orange[Load]** ‡πÄ‡∏û‡∏¥‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á dataframe ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡∏Ç‡∏≠‡∏á‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£
    * ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **:orange[Training]** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ù‡∏∂‡∏Å‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£
    * ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏∏‡∏Å‡∏£‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ üëá
    """)

def load_food_data():
    return pd.read_excel(f'{file_name}')

def save_model(model):
    joblib.dump(model, 'model.joblib')

def load_model():
    return joblib.load('model.joblib')

def scatter_data():
    if file_name == '‡∏™‡∏π‡∏ï‡∏£‡∏û‡∏£‡∏µ‡∏î‡∏¥‡∏Å‡∏ã‡πå':
        data1 = load_food_data()
        fig1, ax1 = plt.subplots()
        for col1 in data1.columns[1:]:
            ax1.scatter(data1['weight'], data1[col1], label=col1)
        ax1.set_title('The graph illustrates the amount of premix feed for pig farming at different weight ranges.')
        ax1.set_xlabel('pig weight')
        ax1.set_ylabel('ingredients')
        ax1.legend()
        st.pyplot(fig1)

    else:
        data2 = load_food_data()
        fig2, ax2 = plt.subplots()
        for col2 in data2.columns[1:]:
            ax2.scatter(data2['weight'], data2[col2], label=col2)
        ax2.set_title('The graph illustrates the amount of feed mixture for pig farming at different weight ranges.')
        ax2.set_xlabel('pig weight')
        ax2.set_ylabel('ingredients')
        ax2.legend()
        st.pyplot(fig2)

st.markdown(
    """
    <style>
    div.stButton > button:first-child{
        background-color:#FFB3C6;
        width: 200px;
        height: 40px;   
    }
    <style>
    """,
    unsafe_allow_html=True
)


def button_generated(key):
    generated = bu1.button('**Generated**', key=key)
    if generated:
        st.write(f'üóÇÔ∏ègenerating "{file_name}"...')
        st.info('... done...')

def button_load(key):
    load = bu1.button('**Load**', key=key)
    data = load_food_data()
    matplotlib.rc('font', family='TH Sarabun New')
    if load:
        st.write(f'üìàloading "{file_name}"...')
        st.info('... done...')
        st.dataframe(data)
        scatter_data()

def button_training(key):
    training = bu1.button('**Training**', key=key)
    data = load_food_data()
    if training:
        st.write(f'üíªTraining "{file_name}"...')
        X = data[['weight']]
        y = data.iloc[:, 1:].values
        model = LinearRegression()
        model.fit(X, y)
        save_model(model)
        st.info('... done...')

def bottonLast(key):
    button = bu1.button('‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô', key=key)

st.image('https://static.thairath.co.th/media/HCtHFA7ele6Q2dUNFWl3FcNz4RNw5xNneXhwHMrq7UTztYOpclwgiP2hGbfqBjI5m2.jpg')
st.caption('‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà[‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û](https://static.thairath.co.th/media/HCtHFA7ele6Q2dUNFWl3FcNz4RNw5xNneXhwHMrq7UTztYOpclwgiP2hGbfqBjI5m2.jpg)')
st.subheader(':orange[‡∏™‡∏π‡∏ï‡∏£‡∏û‡∏£‡∏µ‡∏°‡∏¥‡∏Å‡∏ã‡πå]üìù')
st.markdown("""
    ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ
    
    ‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î‡∏ö‡∏î/‡∏õ‡∏•‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏ß, ‡∏£‡∏≥‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î, ‡∏Å‡∏≤‡∏Å‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á, ‡∏õ‡∏•‡∏≤‡∏õ‡πà‡∏ô, ‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏õ‡πà‡∏ô, ‡πÑ‡∏î‡πÅ‡∏Ñ‡∏•‡πÄ‡∏ã‡∏µ‡∏¢‡∏° P18, ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡∏õ‡πà‡∏ô, ‡∏û‡∏£‡∏µ‡∏°‡∏¥‡∏Å‡∏ã‡πå
""")

bu1, bu2 = st.columns((1.3, 3))
file_name = 'pork_recipes1.xlsx'
button_generated('generated1')
button_load('load1')
button_training('training1')
bottonLast('Last1')
with bu2.form('my form1'):
    pork_weight = st.number_input(" ‡πÉ‡∏™‡πà‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏™‡∏∏‡∏Å‡∏£ (kg) (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà 15.0 ‡∏ñ‡∏∂‡∏á 105 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô) ",
    min_value=15.0, max_value=105.0)
    st.markdown("""
        üîî‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πâ‡∏¢‡∏á‡∏™‡∏∏‡∏Å‡∏£ :orange[‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô] ‡∏™‡πà‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏™‡∏∏‡∏Å‡∏£‡∏à‡∏∞‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 105.0 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏° 
        ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ ‡∏™‡∏∏‡∏Å‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å 15.0 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 105.0 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏° 
    """)
    model = load_model()
    predicted_price = model.predict([[pork_weight]])
    submit = st.form_submit_button('**‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì**')
    if submit:
        st.markdown(f"""
            ‡∏™‡∏∏‡∏Å‡∏£‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å :orange[{pork_weight:.2f}] ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏° :orange[‡∏™‡∏π‡∏ï‡∏£‡∏û‡∏£‡∏µ‡∏°‡∏¥‡∏Å‡∏ã‡πå] ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ

                - ‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î‡∏ö‡∏î/‡∏õ‡∏•‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏ß {predicted_price[0][0]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                - ‡∏£‡∏≥‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î {predicted_price[0][1]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                - ‡∏Å‡∏≤‡∏Å‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á {predicted_price[0][2]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                - ‡∏õ‡∏•‡∏≤‡∏õ‡πà‡∏ô {predicted_price[0][3]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                - ‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏õ‡πà‡∏ô {predicted_price[0][4]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                - ‡πÑ‡∏î‡πÅ‡∏Ñ‡∏•‡πÄ‡∏ã‡∏µ‡∏¢‡∏° P18 {predicted_price[0][5]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                - ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡∏õ‡πà‡∏ô {predicted_price[0][6]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                - ‡∏û‡∏£‡∏µ‡∏°‡∏¥‡∏Å‡∏ã‡πå {predicted_price[0][7]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î {sum(predicted_price[0]):2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°

            ‡πÇ‡∏î‡∏¢‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ö‡πà‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏∏‡∏Å‡∏£‡∏Å‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏Ñ‡∏∑‡∏≠ :orange[‡πÄ‡∏ä‡πâ‡∏≤]‡πÅ‡∏•‡∏∞:orange[‡πÄ‡∏¢‡πá‡∏ô]
""")

st.image('https://static.thairath.co.th/media/dFQROr7oWzulq5Fa4L9NtiXo14RzeuGj8zJQXCs1pmSD58muwBaB7utYUOVqRlwFfpd.jpg')
st.caption('‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà[‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û](https://static.thairath.co.th/media/dFQROr7oWzulq5Fa4L9NtiXo14RzeuGj8zJQXCs1pmSD58muwBaB7utYUOVqRlwFfpd.jpg)')
st.subheader(':orange[‡∏™‡∏π‡∏ï‡∏£‡∏´‡∏±‡∏ß‡∏≠‡∏≤‡∏´‡∏≤‡∏£]üìù')
st.markdown("""
    ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ

    ‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î‡∏ö‡∏î/‡∏õ‡∏•‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏ß, ‡∏£‡∏≥‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î, ‡∏´‡∏±‡∏ß‡∏≠‡∏≤‡∏´‡∏≤‡∏£
""")
bu1, bu2 = st.columns((1.3, 3))
file_name = 'pork_recipes2.xlsx'
button_generated('generated2')
button_load('load2')
button_training('training2')
bottonLast('Last2')
with bu2.form('my form2'):
    pork_weight = st.number_input(" ‡πÉ‡∏™‡πà‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏™‡∏∏‡∏Å‡∏£ (kg) (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà 15.0 ‡∏ñ‡∏∂‡∏á 105 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô) ",
    min_value=15.0, max_value=105.0)
    st.markdown("""
        üîî‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πâ‡∏¢‡∏á‡∏™‡∏∏‡∏Å‡∏£ :orange[‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô] ‡∏™‡πà‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏™‡∏∏‡∏Å‡∏£‡∏à‡∏∞‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 105.0 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏° 
        ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ ‡∏™‡∏∏‡∏Å‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å 15.0 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 105.0 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏° 
    """)
    model = load_model()
    predicted_price = model.predict([[pork_weight]])
    submit = st.form_submit_button('**‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì**')
    if submit:
        st.markdown(f"""
            ‡∏™‡∏∏‡∏Å‡∏£‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å :orange[{pork_weight:.2f}] ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏° :orange[‡∏™‡∏π‡∏ï‡∏£‡∏û‡∏£‡∏µ‡∏°‡∏¥‡∏Å‡∏ã‡πå] ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ

                - ‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î‡∏ö‡∏î/‡∏õ‡∏•‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏ß {predicted_price[0][0]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                - ‡∏£‡∏≥‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î {predicted_price[0][1]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                - ‡∏Å‡∏≤‡∏Å‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á {predicted_price[0][2]:.2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°
                ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î {sum(predicted_price[0]):2f} ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°

            ‡πÇ‡∏î‡∏¢‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ö‡πà‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏∏‡∏Å‡∏£‡∏Å‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏Ñ‡∏∑‡∏≠ :orange[‡πÄ‡∏ä‡πâ‡∏≤]‡πÅ‡∏•‡∏∞:orange[‡πÄ‡∏¢‡πá‡∏ô]
""")
